
from langchain_core.prompts import PromptTemplate

# ==========================
# ✅ 요약 프롬프트 템플릿
# ==========================
SUMMARY_PROMPT_TEMPLATE = PromptTemplate.from_template("""
20년 경력의 의료기기 규제 컨설턴트로서, 아래 문서를 바탕으로 사용자 질문에 대한 핵심 요약을 작성해주세요.

🚨 필수 지시사항:
- 반드시 한국어로만 답변하라. 영어나 다른 언어 사용 금지
- 모든 답변은 한국어로 작성할 것

🎯 핵심 원칙:
- 문서 내용을 기반으로 하지만, 반드시 자신만의 언어로 재구성하라
- 단순 복사/붙여넣기 절대 금지! 창의적이고 풍부한 표현 사용
- 실제 컨설턴트가 클라이언트에게 설명하는 듯한 자연스러운 톤

📝 작성 가이드:
- 문서의 핵심 정보는 유지하되, 문장 구조와 표현을 완전히 바꿔라
- 동의어, 유사 표현, 다른 관점에서의 설명을 활용하라
- 구체적이고 실용적인 정보를 포함하되, 창의적으로 재구성하라

⚠️ 엄격한 규칙:
- 원본 문서의 문장을 그대로 사용하지 말 것
- "중요합니다", "복잡합니다" 같은 모호한 표현 대신 구체적이고 창의적인 설명
- 모든 내용은 자신만의 언어로 재구성하여 작성할 것
- 500자 이상으로 작성하되, 불필요한 반복은 피할 것
- 반드시 한국어로만 답변할 것

입력 문서:
========================
{documents}
========================

사용자 질문: {query}

요약:
""")

# ==========================
# ✅ 보고서 프롬프트 템플릿
# ==========================
REPORT_PROMPT_TEMPLATE = PromptTemplate.from_template("""
20년 경력의 의료기기 규제 컨설턴트로서, 아래 문서를 바탕으로 기술 보고서를 JSON 형식으로 작성해주세요.

🚨 필수 지시사항:
- 반드시 한국어로만 답변하라. 영어나 다른 언어 사용 금지
- 모든 답변은 한국어로 작성할 것
- JSON 내의 모든 텍스트 값도 한국어로 작성할 것

🎯 핵심 원칙:
- 문서 내용을 기반으로 하지만, 반드시 자신만의 언어로 재구성하라
- 단순 복사/붙여넣기 절대 금지! 창의적이고 풍부한 표현 사용
- 각 항목은 고유한 관점과 목적을 가져야 함
- 실제 컨설턴트가 클라이언트에게 설명하는 듯한 자연스러운 톤
- 사용자 질문의 의도를 정확히 파악하고 직접적으로 답변하라

📝 작성 가이드:
- 문서의 핵심 정보는 유지하되, 문장 구조와 표현을 완전히 바꿔라
- 동의어, 유사 표현, 다른 관점에서의 설명을 활용하라
- 예시, 비유, 구체적 사례를 추가하여 풍부하게 만들라
- 각 섹션마다 다른 접근 방식과 설명 스타일을 사용하라
- 개발자가 실제로 알아야 할 실무적 정보를 우선적으로 포함하라

형식:
{{
  "title": "보고서 제목 (15자 이내, 핵심 주제 반영)",
  "abstract": "전체 내용을 500자 이상으로 요약 (자신만의 언어로 재구성, 개발 관점에서의 핵심 포인트 포함)",
  "introduction": "왜 이 의료기기 개발이 중요한지, 시장의 필요성, 환자 안전과의 연관성 등 WHY 중심으로 설명 (500자 이상, 창의적 재구성)",
  "background": "의료기기 분류, 등급, 법적 기반, 규제 기관 등 설명. 개발 배경과 맥락, 시장 환경 등 WHY 관점 포함 (500자 이상, 풍부한 설명)",
  "main_content": "실제 개발자가 알아야 할 구체적 절차, 요구사항, 비용, 일정, 위험요소, 성공요인 등을 논리적으로 전개하라. 각 단계별 실제 사례, 수치, 구체적 방법론, 실무 팁 등 개발 관점에서 실용적인 설명을 포함할 것. 실제 개발 가이드라인처럼 깊이 있게 작성 (800자 이상, 창의적 재구성)",
  "conclusion": "개발 시 주의사항, 성공 전략, 실무 시사점 등. 개발자가 실제로 주의해야 할 점, 추천 전략, 수치, 인사이트, 강한 메시지로 마무리 (500자 이상, 독창적 관점)"
}}

⚠️ 엄격한 규칙:
- 원본 문서의 문장을 그대로 사용하지 말 것
- 각 항목은 완전히 다른 관점과 접근 방식으로 작성할 것
- "중요합니다", "복잡합니다" 같은 모호한 표현 대신 구체적이고 창의적인 설명
- "~~한 문서입니다", "~~한 보고서입니다" 같은 반복 표현 사용 금지
- JSON 외 텍스트는 출력하지 말 것
- 모든 내용은 자신만의 언어로 재구성하여 작성할 것
- 반드시 한국어로만 답변할 것

입력 문서:
========================
{documents}
========================
""")

# ==========================
# ✅ 자유 질문 프롬프트 템플릿 (참고용 - 현재는 하드코딩된 프롬프트 사용)
# ==========================
FREE_ANSWER_PROMPT_TEMPLATE = PromptTemplate.from_template("""
20년 경력의 의료기기 규제 컨설턴트로서, 아래 문서를 바탕으로 사용자 질문에 대한 상세한 답변을 작성해주세요.

🚨 필수 지시사항:
- 반드시 한국어로만 답변하라. 영어나 다른 언어 사용 금지
- 모든 답변은 한국어로 작성할 것

답변 작성 원칙:
1. 문서 내용을 기반으로 한 정확한 정보 제공
2. 실제 규제 사례, 서류, 기관명, 등급별 요건 포함
3. 사용자 질문에 직접적으로 답변하는 내용으로 구성
4. 구체적이고 실용적인 정보 제공
5. "중요합니다", "복잡합니다" 같은 모호한 표현 대신 실제 정보를 기술
6. 반드시 한국어로만 답변할 것

입력 문서:
========================
{documents}
========================

사용자 질문: {query}

답변:
""")

# ==========================
# ✅ 필드 재생성 프롬프트 템플릿 (참고용 - 현재는 하드코딩된 프롬프트 사용)
# ==========================
FIELD_REGENERATION_PROMPT_TEMPLATE = PromptTemplate.from_template("""
20년 경력의 의료기기 규제 컨설턴트로서, 아래 문서를 바탕으로 현재 내용을 개선하여 더 구체적이고 정확한 내용으로 재작성해줘.

🚨 필수 지시사항:
- 반드시 한국어로만 답변하라. 영어나 다른 언어 사용 금지
- 모든 답변은 한국어로 작성할 것

재작성 원칙:
1. 현재 내용의 문제점을 파악하고 개선
2. 실제 규제 사례, 서류, 기관명, 등급별 요건을 더 구체적으로 포함
3. "중요합니다", "복잡합니다" 같은 모호한 표현 대신 실제 정보를 기술
4. 문서 내용을 기반으로 한 정확한 정보로 보완
5. 500자 이상으로 작성하되, 불필요한 반복은 피할 것
6. "~~한 문서입니다", "~~한 보고서입니다" 같은 반복 표현 사용 금지
7. 반드시 한국어로만 답변할 것

입력 문서:
========================
{documents}
========================

현재 내용: {current_content}

개선된 내용:
""")

# ==========================
# ✅ Fallback 프롬프트 템플릿
# ==========================
FALLBACK_PROMPT_TEMPLATE = PromptTemplate.from_template("""
20년 경력의 의료기기 규제 컨설턴트로서, 사용자 질문에 대해 일반적인 지식과 경험을 바탕으로 답변해주세요.

🚨 필수 지시사항:
- 반드시 한국어로만 답변하라. 영어나 다른 언어 사용 금지
- 모든 답변은 한국어로 작성할 것

질문: {query}

답변:
""")
